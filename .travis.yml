language: python
python:
  - 2.6
  - 2.7
  - 3.5
install:
# Get a Modeller license key for Travis and put in mod-license file
  - secure: ADZ8ad6/OXAUQmvzfcUyf/iRc6R9NTSddXuM5M5d5w7Ebv1LaHG1bauwZqw71KJufwwcLJOCEDbZigSZnaEpo5anCBCYk7iumJuG2peOw42RBXxs/AjWjp571OEovtwr3KfQ1yAFqR8xNwpjLkRPO3+PMeWZeIe7c0nr8C2MCXXwix7KlUsOQrbO78TRZj7UCcg34sp6PdE0u68Lq7Z7x18Y9e1sYy/ao/E+/MfteLZ+MorLqxf50Yb7mTbaM8n5m13ZtnTweotpDrpRQLLuB/0aPbHSv9CnmlGoOoOOyPA+VuUNSxkTPvVprJKM9scHQ5YTRnbCH41JAHOtBxk3z7xDqWZ7U+Ub7lroXO6bExDmYFOAsVZO/fUYOHDbMB5uZI8H6E3cx1NjJ+z/HD5igJ4TghKQadlYO+abaaXPxmM/b8d2RBr2+a/6FWJs+URezP67DHuA6MYSHF6WaPWwf29hj7ZZWD7aX0PWTCBl94LBC4zrGcttoCjivMc7m6L00beN5WkYiGGv2QdKIWbhUFVU3/HMBqCjAZp/9ou0JnqD5m63/pOEJLwxqahxW4YP149H+kh2tTx1rmMFIhrKPX9Xvon9m+d5BugzajkiT5shzJ9+O2uHyhkQrO8tTsFuxwLSsypUsu39kWuShrBTt2efDPWjSuIjgJtS8LVyZAE=
  - sudo apt-get -qq update
  - sudo apt-get install -y libhdf5-serial-dev swig
  - wget http://salilab.org/modeller/9.17/modeller_9.17-1_amd64.deb
  - KEY_MODELLER=`cat mod-license` sudo dpkg -i modeller_9.17-1_amd64.deb
script:
  - mkdir build
  - cd build
  - cmake ..
  - make
  - ctest --output-on-failure
